<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:se="clr-namespace:StswExpress">

    <Style TargetType="{x:Type se:StswProgressDialog}">
        <Setter Property="BorderThickness" Value="4"/>
        <Setter Property="CornerClipping" Value="True"/>
        <Setter Property="CornerRadius" Value="6"/>
        <Setter Property="Padding" Value="3"/>

        <Setter Property="Focusable" Value="True"/>
        <Setter Property="IsTabStop" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="False"/>

        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Stretch"/>

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type se:StswProgressDialog}">
                    <!-- main -->
                    <se:StswGroupBox x:Name="OPT_MainBorder"
                                     Background="{TemplateBinding Background}"
                                     BorderBrush="{TemplateBinding BorderBrush}"
                                     BorderThickness="{TemplateBinding BorderThickness}"
                                     CornerClipping="{TemplateBinding CornerClipping}"
                                     CornerRadius="{TemplateBinding CornerRadius}"
                                     Focusable="False"
                                     MaxHeight="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType={x:Type se:StswContentDialog}}, Converter={x:Static se:StswCalculateConverter.Instance}, ConverterParameter=*0.8}"
                                     MaxWidth="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType={x:Type se:StswContentDialog}}, Converter={x:Static se:StswCalculateConverter.Instance}, ConverterParameter=*0.8}"
                                     MinHeight="150"
                                     MinWidth="300"
                                     Padding="0">
                        <se:StswGroupBox.Header>
                            <DockPanel>
                                <se:StswLabel x:Name="OPT_Header" Content="{TemplateBinding Title}" FontWeight="Medium">
                                    <se:StswLabel.LayoutTransform>
                                        <ScaleTransform ScaleX="1.2" ScaleY="1.2"/>
                                    </se:StswLabel.LayoutTransform>
                                </se:StswLabel>
                            </DockPanel>
                        </se:StswGroupBox.Header>

                        <DockPanel Background="{DynamicResource StswPanel.Static.Background}">
                            <!-- buttons -->
                            <UniformGrid DockPanel.Dock="Bottom"
                                         HorizontalAlignment="Center"
                                         Margin="{TemplateBinding Padding}"
                                         Rows="1">
                                <se:StswButton x:Name="OPT_ButtonOK"
                                               Command="{Binding CloseCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                               CommandParameter="True"
                                               Margin="{TemplateBinding Padding}"
                                               MinWidth="100"
                                               Visibility="Collapsed">
                                    <se:StswLabel Content="{se:StswTranslate StswMessageDialog.OK}"/>
                                </se:StswButton>
                                <se:StswButton x:Name="OPT_ButtonYes"
                                               Command="{Binding CloseCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                               CommandParameter="True"
                                               Margin="{TemplateBinding Padding}"
                                               MinWidth="100"
                                               Visibility="Collapsed">
                                    <se:StswLabel Content="{se:StswTranslate StswMessageDialog.Yes}" IconData="{x:Static se:StswIcons.Check}" IconFill="{DynamicResource StswColor.Positive}"/>
                                </se:StswButton>
                                <se:StswButton x:Name="OPT_ButtonNo"
                                               Command="{Binding CloseCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                               CommandParameter="False"
                                               Margin="{TemplateBinding Padding}"
                                               MinWidth="100"
                                               Visibility="Collapsed">
                                    <se:StswLabel Content="{se:StswTranslate StswMessageDialog.No}" IconData="{x:Static se:StswIcons.Close}" IconFill="{DynamicResource StswColor.Negative}"/>
                                </se:StswButton>
                                <se:StswButton x:Name="OPT_ButtonCancel"
                                               Command="{Binding CloseCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                               CommandParameter="{x:Null}"
                                               Margin="{TemplateBinding Padding}"
                                               MinWidth="100"
                                               Visibility="Collapsed">
                                    <se:StswLabel Content="{se:StswTranslate StswMessageDialog.Cancel}" IconData="{x:Static se:StswIcons.Cancel}" IconFill="{DynamicResource StswColor.Negative}"/>
                                </se:StswButton>
                            </UniformGrid>
                            <!-- separator -->
                            <se:StswSeparator x:Name="OPT_Separator"
                                              DockPanel.Dock="Bottom"
                                              BorderBrush="{Binding BorderBrush, ElementName=OPT_MainBorder}"
                                              BorderThickness="1"
                                              Orientation="Horizontal"/>
                            <!-- content -->
                            <ContentPresenter x:Name="OPT_Content"
                                              DockPanel.Dock="Bottom"
                                              Focusable="False"
                                              Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </DockPanel>
                    </se:StswGroupBox>
                    <!-- triggers -->
                    <ControlTemplate.Triggers>
                        <Trigger Property="HasContent" Value="False">
                            <Setter Property="Visibility" Value="Collapsed" TargetName="OPT_Content"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
</ResourceDictionary>