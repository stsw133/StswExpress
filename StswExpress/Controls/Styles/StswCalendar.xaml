<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:se="clr-namespace:StswExpress">

    <Style TargetType="{x:Type se:StswCalendar}">

        <Setter Property="Background" Value="{DynamicResource StswBox.Static.Background}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource StswBox.Static.Border}"/>
<!--
        <Setter Property="OpacityDisabled" Value="0.3"/>
-->
        <Setter Property="BorderThickness" Value="2"/>
        <Setter Property="SubBorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="10"/>
        <Setter Property="Padding" Value="3"/>
        <Setter Property="SubPadding" Value="3"/>

        <Setter Property="HorizontalAlignment" Value="Left"/>
        <Setter Property="VerticalAlignment" Value="Top"/>

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type se:StswCalendar}">
                    <se:ClippingBorder x:Name="PART_MainBorder"
                                       Background="{TemplateBinding Background}"
                                       BorderBrush="{TemplateBinding BorderBrush}"
                                       BorderThickness="{TemplateBinding BorderThickness}"
                                       CornerRadius="{TemplateBinding CornerRadius}"
                                       SnapsToDevicePixels="True">
                        <DockPanel>
                            <!-- select year & month -->
                            <DockPanel DockPanel.Dock="Top" Background="{DynamicResource StswButton.Static.Background}">
                                <se:StswRepeatButton x:Name="PART_ButtonPreviousYear" DockPanel.Dock="Left" BackgroundDisabled="Transparent" BorderThickness="0" CornerRadius="0" Margin="{TemplateBinding SubPadding}">
                                    <se:StswIcon Data="{x:Static se:StswIcons.ChevronDoubleLeft}" Scale="1.25"/>
                                </se:StswRepeatButton>
                                <se:StswRepeatButton x:Name="PART_ButtonPreviousMonth" DockPanel.Dock="Left" BackgroundDisabled="Transparent" BorderThickness="0" CornerRadius="0" Margin="{TemplateBinding SubPadding}">
                                    <se:StswIcon Data="{x:Static se:StswIcons.ChevronLeft}" Scale="1.25"/>
                                </se:StswRepeatButton>
                                <se:StswRepeatButton x:Name="PART_ButtonNextYear" DockPanel.Dock="Right" BackgroundDisabled="Transparent" BorderThickness="0" CornerRadius="0" Margin="{TemplateBinding SubPadding}">
                                    <se:StswIcon Data="{x:Static se:StswIcons.ChevronDoubleRight}" Scale="1.25"/>
                                </se:StswRepeatButton>
                                <se:StswRepeatButton x:Name="PART_ButtonNextMonth" DockPanel.Dock="Right" BackgroundDisabled="Transparent" BorderThickness="0" CornerRadius="0" Margin="{TemplateBinding SubPadding}">
                                    <se:StswIcon Data="{x:Static se:StswIcons.ChevronRight}" Scale="1.25"/>
                                </se:StswRepeatButton>
                                <se:StswButton x:Name="PART_ButtonSelectionMode" BackgroundDisabled="Transparent" BorderThickness="0" CornerRadius="0" Margin="{TemplateBinding SubPadding}"/>
                            </DockPanel>
                            <!-- content -->
                            <Grid DockPanel.Dock="Top" MinHeight="180" MinWidth="240">
                                <!-- months (selection mode: year) -->
                                <UniformGrid x:Name="PART_SelectionModeYear" Columns="4" Margin="{TemplateBinding Padding}" Visibility="Hidden">
                                    <se:StswButton Content="{Binding Month1, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="1"/>
                                    <se:StswButton Content="{Binding Month2, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="2"/>
                                    <se:StswButton Content="{Binding Month3, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="3"/>
                                    <se:StswButton Content="{Binding Month4, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="4"/>
                                    <se:StswButton Content="{Binding Month5, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="5"/>
                                    <se:StswButton Content="{Binding Month6, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="6"/>
                                    <se:StswButton Content="{Binding Month7, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="7"/>
                                    <se:StswButton Content="{Binding Month8, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="8"/>
                                    <se:StswButton Content="{Binding Month9, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="9"/>
                                    <se:StswButton Content="{Binding Month10, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="10"/>
                                    <se:StswButton Content="{Binding Month11, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="11"/>
                                    <se:StswButton Content="{Binding Month12, RelativeSource={RelativeSource TemplatedParent}}" Background="Transparent" BorderBrush="Transparent" BorderThickness="{TemplateBinding SubBorderThickness}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="12"/>
                                </UniformGrid>
                                <!-- days (selection mode: month) -->
                                <Grid x:Name="PART_SelectionModeMonth" Margin="{TemplateBinding Padding}" Visibility="Hidden">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <!-- days of week -->
                                    <UniformGrid DockPanel.Dock="Top" Columns="7">
                                        <Label Content="{Binding DayOfWeek1, RelativeSource={RelativeSource TemplatedParent}}" FontWeight="Heavy" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="6"/>
                                        <Label Content="{Binding DayOfWeek2, RelativeSource={RelativeSource TemplatedParent}}" FontWeight="Heavy" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="6"/>
                                        <Label Content="{Binding DayOfWeek3, RelativeSource={RelativeSource TemplatedParent}}" FontWeight="Heavy" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="6"/>
                                        <Label Content="{Binding DayOfWeek4, RelativeSource={RelativeSource TemplatedParent}}" FontWeight="Heavy" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="6"/>
                                        <Label Content="{Binding DayOfWeek5, RelativeSource={RelativeSource TemplatedParent}}" FontWeight="Heavy" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="6"/>
                                        <Label Content="{Binding DayOfWeek6, RelativeSource={RelativeSource TemplatedParent}}" FontWeight="Heavy" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="6"/>
                                        <Label Content="{Binding DayOfWeek7, RelativeSource={RelativeSource TemplatedParent}}" FontWeight="Heavy" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="6"/>
                                    </UniformGrid>
                                    <!-- days of month -->
                                    <ItemsControl DockPanel.Dock="Top" Grid.Row="1" Grid.RowSpan="6" ItemsSource="{TemplateBinding Buttons}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Columns="7"/>
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <se:StswButton Content="{Binding Date.Day}" Command="{Binding OnClickCommand, RelativeSource={RelativeSource AncestorType={x:Type se:StswCalendar}}}" CommandParameter="{Binding Date}">
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type se:StswButton}">
                                                            <Setter Property="Background" Value="Transparent"/>
                                                            <Setter Property="BackgroundDisabled" Value="Transparent"/>
                                                            <Setter Property="BorderBrush" Value="Transparent"/>
                                                            <Setter Property="BorderBrushDisabled" Value="Transparent"/>
                                                            <Setter Property="BorderThickness" Value="{Binding SubBorderThickness, RelativeSource={RelativeSource AncestorType={x:Type se:StswCalendar}}}"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding InCurrentMonth}" Value="True">
                                                                    <Setter Property="FontWeight" Value="Medium"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding Date.DayOfWeek}" Value="Sunday">
                                                                    <Setter Property="Foreground" Value="{DynamicResource StswCalendar.SpecialDay.Foreground}"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding InCurrentMonth}" Value="False">
                                                                    <Setter Property="Foreground" Value="{DynamicResource StswCalendar.InCurrentMonth.Foreground}"/>
                                                                    <Setter Property="ForegroundDisabled" Value="{DynamicResource StswButton.Disabled.Foreground}"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsSelectedDay}" Value="True">
                                                                    <Setter Property="Background" Value="{DynamicResource StswButton.Checked.Background}"/>
                                                                    <Setter Property="BackgroundDisabled" Value="{DynamicResource StswButton.Checked.Background}"/>
                                                                    <Setter Property="BackgroundMouseOver" Value="{DynamicResource StswButton.Checked.Background}"/>
                                                                    <Setter Property="BorderBrush" Value="{DynamicResource StswButton.Checked.Border}"/>
                                                                    <Setter Property="BorderBrushDisabled" Value="{DynamicResource StswButton.Checked.Border}"/>
                                                                    <Setter Property="BorderBrushMouseOver" Value="{DynamicResource StswButton.Checked.Border}"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding IsCurrentDay}" Value="True">
                                                                    <Setter Property="BorderBrush" Value="{DynamicResource StswCalendar.IsCurrentDay.Border}"/>
                                                                    <Setter Property="BorderBrushMouseOver" Value="{DynamicResource StswCalendar.IsCurrentDay.Border}"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding InMinMaxRange}" Value="False">
                                                                    <Setter Property="Visibility" Value="Hidden"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </se:StswButton>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                            </Grid>
                        </DockPanel>
                    </se:ClippingBorder>
                    <ControlTemplate.Triggers>
                        <Trigger Property="SelectionMode" Value="ByYear">
                            <Setter Property="Visibility" Value="Visible" TargetName="PART_SelectionModeYear" />
                        </Trigger>
                        <Trigger Property="SelectionMode" Value="ByMonth">
                            <Setter Property="Visibility" Value="Visible" TargetName="PART_SelectionModeMonth" />
                        </Trigger>
                        <!--
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="{Binding OpacityDisabled, RelativeSource={RelativeSource TemplatedParent}}" TargetName="PART_MainBorder" />
                        </Trigger>
                        -->
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
</ResourceDictionary>